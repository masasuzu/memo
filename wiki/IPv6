{{toc}}

! IPv6の特徴
* 広大なアドレス空間
** 128ビット
* シンプルなヘッダ
* モバイルとセキュリティ(IPsec)を標準でサポート
* IPv4からIPv6への変換方法が複数

! IPv6アドレス
* ユニキャストアドレス
** 1対1の通信に使われる
*** グローバルユニキャストアドレス
*** リンクローカルユニキャストアドレス
* エニーキャストアドレス
** 異なるインターフェースに同一のアドレスを振ることができる。
** エニーキャスト宛のパケットは送信元から一番近いインターフェースが受信する。
*** 負荷分散に使用
* マルチキャストアドレス
** 同報通信に使用

* ブロードキャストアドレスは廃止

* ループバックアドレス
** ::1/128

* ホスト部とインターフェース識別子で構成される

!! グローバルユニキャストアドレス

* 2000::/3 - E000::/3を使用
** ただし、FF00::/8はマルチキャストアドレス

* /16
** グローバルルーティングプリフィックス
* /23
** 地域レジストリ
* /32
** ISP
* /48
** 組織
* /64
** サブネットプリフィックス(サブネットID)
* 残り
** インタフェース識別子

!! リンクローカルユニキャストアドレス
* FE80::/64を使用

* 同一のローカルリンク上のホストにグローバルアドレスなしで通信ができる。

!! エニーキャストアドレス

* グローバルユニキャストアドレスと同じ空間を使用

* グローバルユニキャストアドレスを複数のインタフェースに設定することによりエニーキャストアドレスとなる
** 明示的にエニーキャストアドレスとして構成しなくてならない

* 送信元アドレスとしてエニーキャストアドレスを使用できない

* エニーキャストアドレス宛に送信した場合、エニーキャストグループの中でもっとも送信元に近いホストが受信する。

!! マルチキャストアドレス

* ブロードキャストの代替
* FF00::/8を使用

!!! 既知のマルチキャスト
* FF02::1/128
** リンク上のすべてのノード 
* FF02::2/128
** リンク上のすべてのルータ 
* FF02::9/128
** リンク上のすべてのRIPルータ 
* FF02::1:ff00:0/104
** リンク上の要請ノードマルチキャストアドレス 
* FF05::101/128
** サイト上のすべてのNTPサーバ 

! IPv6の設定
!! 初期設定
* IPv6有効化
** IOS-XRは標準で有効
** IOS
 Router(config)#ipv6 unicast-routing

!! インタフェイスの設定
* グローバル/ユニークリンクローカルアドレス
 Router(config-if)#ipv6 address X:X..X:X/prefix
* EUI-64 based ipv6 address
 Router(config-if)#ipv6 address X:X::/prefix eui-64

!! Service
* Nameserver syslog等は同じコマンドでIPv6アドレスを入力できる

!! Static Routing
!!! IOS
 ipv6 route 2001:db8::64 2001:db8:0:cc00::1 110

!!! IOS-XR
 router static
  address-family ipv6 unicast
   2001:db8::64 2001:db8:0:cc00::1 110
